# Scripts async/defer

---

Выполнение HTML кода идёт сверху вниз, когда браузер загружает HTML и доходит до тега `<script></script>`, он не может продолжать строить DOM. Браузер должен подождать, пока загрузится скрипт, выполнить его, и только затем обработать остальную страницу.

## Проблемы

- Скрипты не видят DOM-элементы ниже себя, поэтому к ним нельзя добавить обработчики и т.д.
- Если вверху страницы объёмный скрипт, он «блокирует» страницу.

## Решения

- Поместить скрипт внизу страницы
- `async/defer`, не блокируют отрисовку страницы (предназначены только для внешних скриптов (у которых есть атрубит `src`))

## defer

- **DOMContentLoaded:** Выполняется перед DOMContentLoaded (когда вся структура HTML-документа полностью загружена и разобрана браузером, но до загрузки внешних ресурсов, таких как изображения, стили или скрипты.).
- **Порядок:** Скрипты сохраняют порядок относительно друг друга, как и обычные скрипты.

## async

- **DOMContentLoaded:** Может загрузиться и выполниться до того, как страница полностью загрузится.
- **Порядок:** Скрипты не сохраняют порядок. Загрузился - сразу выполнился

---

- [Вопросы по HTML](HTML.md)
